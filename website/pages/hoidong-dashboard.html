<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Thành viên Hội đồng khoa học</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Enhanced Council Dashboard Styles */
        .council-dashboard {
            background: linear-gradient(135deg, #4e73df 0%, #224abe 100%);
            min-height: 100vh;
        }
        
        .enhanced-sidebar {
            width: 280px;
            background: linear-gradient(180deg, #1e3a8a 0%, #1e40af 100%);
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            box-shadow: 4px 0 20px rgba(0,0,0,0.15);
            z-index: 1000;
        }
        
        .sidebar-brand {
            padding: 25px 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            text-align: center;
        }
        
        .brand-logo {
            width: 50px;
            height: 50px;
            background: linear-gradient(45deg, #3b82f6, #1d4ed8);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            color: white;
            font-size: 24px;
        }
        
        .brand-title {
            color: white;
            font-size: 16px;
            font-weight: 600;
            margin: 0;
        }
        
        .brand-subtitle {
            color: rgba(255,255,255,0.7);
            font-size: 12px;
            margin: 5px 0 0;
        }
        
        /* Enhanced Main Content */
        .enhanced-main {
            margin-left: 280px;
            min-height: 100vh;
            background: #f1f5f9;
        }
        
        .dashboard-header {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            padding: 20px 30px;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .header-title {
            font-size: 24px;
            font-weight: 700;
            color: #1e40af;
            margin: 0;
        }
        
        /* Review Form Styles */
        .review-form {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.08);
            margin-bottom: 30px;
        }
        
        .project-info-section {
            background: #f8fafc;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            border-left: 4px solid #3b82f6;
        }
        
        .document-viewer {
            background: #f8fafc;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            border: 1px solid #e2e8f0;
            min-height: 400px;
        }
        
        .document-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #e2e8f0;
        }
        
        .doc-tab {
            padding: 10px 15px;
            background: transparent;
            border: none;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }
        
        .doc-tab.active {
            border-bottom-color: #3b82f6;
            color: #3b82f6;
        }
        
        .doc-content {
            background: white;
            border-radius: 8px;
            padding: 20px;
            min-height: 300px;
            border: 1px solid #e2e8f0;
        }
        
        .evaluation-section {
            background: white;
            border-radius: 10px;
            padding: 25px;
            border: 2px solid #e2e8f0;
        }
        
        .evaluation-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            color: #1e40af;
        }
        
        .criteria-list {
            display: grid;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .criteria-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: #f8fafc;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }
        
        .criteria-name {
            font-weight: 500;
            color: #374151;
        }
        
        .rating-buttons {
            display: flex;
            gap: 8px;
        }
        
        .rating-btn {
            width: 40px;
            height: 40px;
            border: 2px solid #e2e8f0;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }
        
        .rating-btn:hover {
            border-color: #3b82f6;
            background: #eff6ff;
        }
        
        .rating-btn.selected {
            background: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }
        
        .decision-section {
            background: #f0f9ff;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #0ea5e9;
        }
        
        .decision-options {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .decision-radio {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            background: white;
        }
        
        .decision-radio:hover {
            border-color: #3b82f6;
        }
        
        .decision-radio.selected {
            border-color: #3b82f6;
            background: #eff6ff;
        }
        
        .comments-section {
            margin-top: 20px;
        }
        
        .enhanced-textarea {
            width: 100%;
            min-height: 120px;
            padding: 15px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            resize: vertical;
            font-size: 14px;
            transition: border-color 0.3s;
        }
        
        .enhanced-textarea:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .form-actions {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #e2e8f0;
        }
        
        .enhanced-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, #3b82f6, #1d4ed8);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 5px 15px rgba(59, 130, 246, 0.4);
        }
        
        .btn-secondary {
            background: white;
            color: #6b7280;
            border: 2px solid #e2e8f0;
        }
        
        .btn-secondary:hover {
            border-color: #3b82f6;
            color: #3b82f6;
        }
        
        /* Enhanced Stats */
        .enhanced-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .enhanced-stat-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            border-left: 4px solid var(--accent-color);
            transition: transform 0.3s;
        }
        
        .enhanced-stat-card:hover {
            transform: translateY(-2px);
        }
        
        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            background: var(--accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
        }
        
        .stat-number {
            font-size: 28px;
            font-weight: 700;
            color: #1f2937;
        }
        
        .stat-label {
            color: #6b7280;
            font-weight: 500;
        }
        
        /* Color variations */
        .enhanced-stat-card:nth-child(1) { --accent-color: #3b82f6; }
        .enhanced-stat-card:nth-child(2) { --accent-color: #10b981; }
        .enhanced-stat-card:nth-child(3) { --accent-color: #f59e0b; }
        .enhanced-stat-card:nth-child(4) { --accent-color: #ef4444; }
        
        /* Enhanced Navigation */
        .enhanced-nav-link {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            transition: all 0.3s;
            border-radius: 8px;
            margin: 2px 10px;
        }
        
        .enhanced-nav-link:hover {
            background: rgba(255,255,255,0.1);
            color: white;
        }
        
        .enhanced-nav-link.active {
            background: rgba(255,255,255,0.2);
            color: white;
        }
        
        .enhanced-nav-link i {
            width: 20px;
            margin-right: 15px;
            font-size: 16px;
        }
        
        .nav-badge {
            background: #ef4444;
            color: white;
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 10px;
            margin-left: auto;
        }
        
        /* Priority indicators */
        .priority-high {
            border-left-color: #ef4444 !important;
        }
        
        .priority-medium {
            border-left-color: #f59e0b !important;
        }
        
        .priority-low {
            border-left-color: #10b981 !important;
        }
        
        /* Status badges */
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .status-pending {
            background: #fef3c7;
            color: #d97706;
        }
        
        .status-approved {
            background: #dcfce7;
            color: #16a34a;
        }
        
        .status-revision {
            background: #fee2e2;
            color: #dc2626;
        }
    </style>
</head>
<body class="council-dashboard">
    <!-- Enhanced Sidebar -->
    <aside class="enhanced-sidebar">
        <div class="sidebar-brand">
            <div class="brand-logo">
                <i class="fas fa-gavel"></i>
            </div>
            <h3 class="brand-title">Hội đồng Khoa học</h3>
            <p class="brand-subtitle">Xét duyệt Đề tài Nghiên cứu</p>
        </div>
        
        <nav style="padding: 20px 0;">
            <a href="#" class="enhanced-nav-link active" data-section="dashboard">
                <i class="fas fa-tachometer-alt"></i>
                <span>Tổng quan</span>
            </a>
            <a href="#" class="enhanced-nav-link" data-section="xet-duyet">
                <i class="fas fa-clipboard-list"></i>
                <span>Xét duyệt đề tài</span>
                <span class="nav-badge">5</span>
            </a>
            <a href="#" class="enhanced-nav-link" data-section="lich-su-danh-gia">
                <i class="fas fa-history"></i>
                <span>Lịch sử đánh giá</span>
            </a>
            <a href="#" class="enhanced-nav-link" data-section="thong-ke">
                <i class="fas fa-chart-bar"></i>
                <span>Thống kê</span>
            </a>
            <a href="../index.html" class="enhanced-nav-link">
                <i class="fas fa-sign-out-alt"></i>
                <span>Đăng xuất</span>
            </a>
        </nav>
    </aside>

    <!-- Enhanced Main Content -->
    <main class="enhanced-main">
        <!-- Enhanced Header -->
        <header class="dashboard-header">
            <div class="header-content">
                <div>
                    <h1 class="header-title">Hội đồng Khoa học - Xét duyệt Đề tài</h1>
                    <p style="margin: 5px 0 0; color: #64748b;">Chào mừng, <strong>PGS.TS Nguyễn Văn X</strong></p>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="text-align: right; color: #64748b; font-size: 14px;">
                        <div>Hôm nay: <strong>07/11/2025</strong></div>
                        <div>Đề tài chờ: <strong style="color: #ef4444;">5</strong></div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Content Wrapper -->
        <div style="padding: 30px;">

            <!-- Dashboard Overview -->
            <section id="dashboard" class="content-section">
                <div class="enhanced-stats-grid">
                    <div class="enhanced-stat-card">
                        <div class="stat-header">
                            <div class="stat-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                        </div>
                        <div class="stat-number" id="totalChoXetDuyet">5</div>
                        <div class="stat-label">Chờ xét duyệt</div>
                    </div>
                    
                    <div class="enhanced-stat-card">
                        <div class="stat-header">
                            <div class="stat-icon">
                                <i class="fas fa-check-circle"></i>
                            </div>
                        </div>
                        <div class="stat-number" id="daDanhGia">23</div>
                        <div class="stat-label">Đã đánh giá</div>
                    </div>
                    
                    <div class="enhanced-stat-card">
                        <div class="stat-header">
                            <div class="stat-icon">
                                <i class="fas fa-thumbs-up"></i>
                            </div>
                        </div>
                        <div class="stat-number" id="daPheDuyet">18</div>
                        <div class="stat-label">Đã phê duyệt</div>
                    </div>
                    
                    <div class="enhanced-stat-card">
                        <div class="stat-header">
                            <div class="stat-icon">
                                <i class="fas fa-edit"></i>
                            </div>
                        </div>
                        <div class="stat-number" id="yeuCauChinhSua">5</div>
                        <div class="stat-label">Yêu cầu chỉnh sửa</div>
                    </div>
                </div>

                <!-- Recent Projects Table -->
                <div style="background: white; border-radius: 15px; padding: 25px; box-shadow: 0 4px 15px rgba(0,0,0,0.08);">
                    <h3 style="margin-bottom: 20px; color: #1f2937;">Đề tài cần xét duyệt khẩn cấp</h3>
                    
                    <div class="project-list" style="display: grid; gap: 15px;">
                        <div class="project-item priority-high" style="display: flex; justify-content: space-between; align-items: center; padding: 20px; background: #f9fafb; border-radius: 10px; border-left: 4px solid #ef4444;">
                            <div>
                                <h4 style="margin: 0 0 8px; color: #1f2937; font-size: 16px;">Ứng dụng AI trong chẩn đoán y tế</h4>
                                <div style="display: flex; gap: 20px; color: #6b7280; font-size: 14px;">
                                    <span><i class="fas fa-hashtag"></i> DT2025001</span>
                                    <span><i class="fas fa-user"></i> TS. Nguyễn Văn A</span>
                                    <span><i class="fas fa-calendar"></i> 03/11/2025</span>
                                </div>
                            </div>
                            <div style="display: flex; gap: 10px; align-items: center;">
                                <span class="status-badge status-pending">
                                    <i class="fas fa-clock"></i> Chờ xét duyệt
                                </span>
                                <button class="enhanced-btn btn-primary" onclick="reviewProject('DT2025001')">
                                    <i class="fas fa-eye"></i> Xét duyệt
                                </button>
                            </div>
                        </div>
                        
                        <div class="project-item priority-medium" style="display: flex; justify-content: space-between; align-items: center; padding: 20px; background: #f9fafb; border-radius: 10px; border-left: 4px solid #f59e0b;">
                            <div>
                                <h4 style="margin: 0 0 8px; color: #1f2937; font-size: 16px;">Nghiên cứu năng lượng tái tạo</h4>
                                <div style="display: flex; gap: 20px; color: #6b7280; font-size: 14px;">
                                    <span><i class="fas fa-hashtag"></i> DT2025002</span>
                                    <span><i class="fas fa-user"></i> PGS. Lê Văn B</span>
                                    <span><i class="fas fa-calendar"></i> 04/11/2025</span>
                                </div>
                            </div>
                            <div style="display: flex; gap: 10px; align-items: center;">
                                <span class="status-badge status-pending">
                                    <i class="fas fa-clock"></i> Chờ xét duyệt
                                </span>
                                <button class="enhanced-btn btn-primary" onclick="reviewProject('DT2025002')">
                                    <i class="fas fa-eye"></i> Xét duyệt
                                </button>
                            </div>
                        </div>
                        
                        <div class="project-item priority-low" style="display: flex; justify-content: space-between; align-items: center; padding: 20px; background: #f9fafb; border-radius: 10px; border-left: 4px solid #10b981;">
                            <div>
                                <h4 style="margin: 0 0 8px; color: #1f2937; font-size: 16px;">Phát triển hệ thống IoT thông minh</h4>
                                <div style="display: flex; gap: 20px; color: #6b7280; font-size: 14px;">
                                    <span><i class="fas fa-hashtag"></i> DT2025003</span>
                                    <span><i class="fas fa-user"></i> TS. Trần Thị C</span>
                                    <span><i class="fas fa-calendar"></i> 05/11/2025</span>
                                </div>
                            </div>
                            <div style="display: flex; gap: 10px; align-items: center;">
                                <span class="status-badge status-approved">
                                    <i class="fas fa-check"></i> Đã phê duyệt
                                </span>
                                <button class="enhanced-btn btn-secondary" onclick="viewProject('DT2025003')">
                                    <i class="fas fa-eye"></i> Xem
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Review Projects Section -->
            <section id="xetduyet" class="content-section" style="display: none;">
                <div style="background: white; border-radius: 15px; padding: 30px; box-shadow: 0 4px 15px rgba(0,0,0,0.08);">
                    <div class="review-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; padding-bottom: 20px; border-bottom: 2px solid #f1f5f9;">
                        <div>
                            <h2 style="margin: 0; color: #1f2937;">Xét duyệt đề tài nghiên cứu</h2>
                            <p style="margin: 5px 0 0; color: #6b7280;">Đánh giá và phê duyệt đề tài theo tiêu chí của Hội đồng</p>
                        </div>
                        <div class="review-filters" style="display: flex; gap: 15px;">
                            <select id="statusFilter" style="padding: 8px 15px; border: 1px solid #d1d5db; border-radius: 8px;">
                                <option value="">Tất cả trạng thái</option>
                                <option value="cho-xet-duyet">Chờ xét duyệt</option>
                                <option value="dang-danh-gia">Đang đánh giá</option>
                                <option value="da-phe-duyet">Đã phê duyệt</option>
                                <option value="yeu-cau-sua">Yêu cầu chỉnh sửa</option>
                            </select>
                            <select id="priorityFilter" style="padding: 8px 15px; border: 1px solid #d1d5db; border-radius: 8px;">
                                <option value="">Tất cả mức độ</option>
                                <option value="high">Khẩn cấp</option>
                                <option value="medium">Ưu tiên</option>
                                <option value="low">Thông thường</option>
                            </select>
                        </div>
                    </div>

                    <!-- Project Selection -->
                    <div class="project-selection" style="margin-bottom: 30px;">
                        <div class="projects-grid" style="display: grid; gap: 15px; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));">
                            <div class="project-card" onclick="selectProjectForReview('DT2025001')" style="border: 2px solid #e5e7eb; border-radius: 12px; padding: 20px; cursor: pointer; transition: all 0.3s; background: linear-gradient(145deg, #ffffff 0%, #f9fafb 100%);">
                                <div class="project-header" style="display: flex; justify-content: between; align-items: start; margin-bottom: 15px;">
                                    <div style="flex: 1;">
                                        <h4 style="margin: 0; color: #1f2937; font-size: 16px;">Ứng dụng AI trong chẩn đoán y tế</h4>
                                        <p style="margin: 5px 0 0; color: #6b7280; font-size: 14px;">Mã: DT2025001</p>
                                    </div>
                                    <div class="priority-badge priority-high" style="background: #fee2e2; color: #dc2626; padding: 4px 10px; border-radius: 15px; font-size: 12px; font-weight: 600;">
                                        KHẨN CẤP
                                    </div>
                                </div>
                                <div class="project-info" style="display: grid; gap: 8px; font-size: 14px; color: #6b7280;">
                                    <div><i class="fas fa-user"></i> Người đề xuất: TS. Nguyễn Văn A</div>
                                    <div><i class="fas fa-building"></i> Đơn vị: Khoa Công nghệ thông tin</div>
                                    <div><i class="fas fa-calendar"></i> Ngày gửi: 03/11/2025</div>
                                    <div><i class="fas fa-clock"></i> Thời hạn xét: 10/11/2025</div>
                                </div>
                                <div style="margin-top: 15px;">
                                    <span class="status-badge status-pending">
                                        <i class="fas fa-clock"></i> Chờ xét duyệt
                                    </span>
                                </div>
                            </div>

                            <div class="project-card" onclick="selectProjectForReview('DT2025002')" style="border: 2px solid #e5e7eb; border-radius: 12px; padding: 20px; cursor: pointer; transition: all 0.3s; background: linear-gradient(145deg, #ffffff 0%, #f9fafb 100%);">
                                <div class="project-header" style="display: flex; justify-content: between; align-items: start; margin-bottom: 15px;">
                                    <div style="flex: 1;">
                                        <h4 style="margin: 0; color: #1f2937; font-size: 16px;">Nghiên cứu năng lượng tái tạo</h4>
                                        <p style="margin: 5px 0 0; color: #6b7280; font-size: 14px;">Mã: DT2025002</p>
                                    </div>
                                    <div class="priority-badge priority-medium" style="background: #fef3c7; color: #d97706; padding: 4px 10px; border-radius: 15px; font-size: 12px; font-weight: 600;">
                                        ưu TIÊN
                                    </div>
                                </div>
                                <div class="project-info" style="display: grid; gap: 8px; font-size: 14px; color: #6b7280;">
                                    <div><i class="fas fa-user"></i> Người đề xuất: PGS. Lê Văn B</div>
                                    <div><i class="fas fa-building"></i> Đơn vị: Khoa Kỹ thuật</div>
                                    <div><i class="fas fa-calendar"></i> Ngày gửi: 04/11/2025</div>
                                    <div><i class="fas fa-clock"></i> Thời hạn xét: 11/11/2025</div>
                                </div>
                                <div style="margin-top: 15px;">
                                    <span class="status-badge status-pending">
                                        <i class="fas fa-clock"></i> Chờ xét duyệt
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Detailed Review Form -->
                    <div id="reviewForm" class="review-form" style="display: none; border-top: 2px solid #f1f5f9; padding-top: 30px;">
                        <h3 style="color: #1f2937; margin-bottom: 25px;">
                            <i class="fas fa-clipboard-check"></i> Biểu mẫu đánh giá đề tài
                        </h3>
                        
                        <div class="form-grid" style="display: grid; gap: 25px;">
                            <!-- Project Info Display -->
                            <div class="info-section" style="background: #f8fafc; padding: 20px; border-radius: 10px; border-left: 4px solid #3b82f6;">
                                <h4 style="margin: 0 0 15px; color: #1f2937;">Thông tin đề tài được chọn</h4>
                                <div id="selectedProjectInfo" style="display: grid; gap: 10px; font-size: 14px;">
                                    <!-- Project info will be populated here -->
                                </div>
                            </div>

                            <!-- Evaluation Criteria -->
                            <div class="evaluation-section">
                                <h4 style="color: #1f2937; margin-bottom: 20px;">Tiêu chí đánh giá</h4>
                                <div class="criteria-grid" style="display: grid; gap: 20px;">
                                    
                                    <div class="criterion">
                                        <label style="display: block; font-weight: 600; color: #374151; margin-bottom: 10px;">
                                            1. Tính mới và sáng tạo của đề tài (0-10 điểm)
                                        </label>
                                        <div style="display: flex; gap: 15px; align-items: center;">
                                            <input type="range" id="creativity" min="0" max="10" value="5" 
                                                   style="flex: 1;" oninput="updateScore(this, 'creativityScore')">
                                            <span id="creativityScore" style="font-weight: 600; color: #3b82f6; min-width: 40px;">5</span>
                                            <span style="color: #6b7280;">điểm</span>
                                        </div>
                                    </div>

                                    <div class="criterion">
                                        <label style="display: block; font-weight: 600; color: #374151; margin-bottom: 10px;">
                                            2. Tính khả thi và phương pháp nghiên cứu (0-10 điểm)
                                        </label>
                                        <div style="display: flex; gap: 15px; align-items: center;">
                                            <input type="range" id="feasibility" min="0" max="10" value="5" 
                                                   style="flex: 1;" oninput="updateScore(this, 'feasibilityScore')">
                                            <span id="feasibilityScore" style="font-weight: 600; color: #3b82f6; min-width: 40px;">5</span>
                                            <span style="color: #6b7280;">điểm</span>
                                        </div>
                                    </div>

                                    <div class="criterion">
                                        <label style="display: block; font-weight: 600; color: #374151; margin-bottom: 10px;">
                                            3. Ý nghĩa khoa học và thực tiễn (0-10 điểm)
                                        </label>
                                        <div style="display: flex; gap: 15px; align-items: center;">
                                            <input type="range" id="significance" min="0" max="10" value="5" 
                                                   style="flex: 1;" oninput="updateScore(this, 'significanceScore')">
                                            <span id="significanceScore" style="font-weight: 600; color: #3b82f6; min-width: 40px;">5</span>
                                            <span style="color: #6b7280;">điểm</span>
                                        </div>
                                    </div>

                                    <div class="criterion">
                                        <label style="display: block; font-weight: 600; color: #374151; margin-bottom: 10px;">
                                            4. Năng lực và kinh nghiệm của nhóm nghiên cứu (0-10 điểm)
                                        </label>
                                        <div style="display: flex; gap: 15px; align-items: center;">
                                            <input type="range" id="capability" min="0" max="10" value="5" 
                                                   style="flex: 1;" oninput="updateScore(this, 'capabilityScore')">
                                            <span id="capabilityScore" style="font-weight: 600; color: #3b82f6; min-width: 40px;">5</span>
                                            <span style="color: #6b7280;">điểm</span>
                                        </div>
                                    </div>

                                    <div class="criterion">
                                        <label style="display: block; font-weight: 600; color: #374151; margin-bottom: 10px;">
                                            5. Kinh phí và thời gian thực hiện (0-10 điểm)
                                        </label>
                                        <div style="display: flex; gap: 15px; align-items: center;">
                                            <input type="range" id="budget" min="0" max="10" value="5" 
                                                   style="flex: 1;" oninput="updateScore(this, 'budgetScore')">
                                            <span id="budgetScore" style="font-weight: 600; color: #3b82f6; min-width: 40px;">5</span>
                                            <span style="color: #6b7280;">điểm</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Total Score -->
                                <div class="total-score" style="margin-top: 25px; padding: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 15px; color: white; text-align: center;">
                                    <h4 style="margin: 0 0 10px; font-size: 16px;">Tổng điểm đánh giá</h4>
                                    <div id="totalScore" style="font-size: 36px; font-weight: 700;">25</div>
                                    <p style="margin: 5px 0 0; opacity: 0.9;">/ 50 điểm</p>
                                </div>
                            </div>

                            <!-- Comments and Feedback -->
                            <div class="feedback-section">
                                <h4 style="color: #1f2937; margin-bottom: 15px;">Nhận xét và đề xuất</h4>
                                <textarea id="reviewComments" placeholder="Nhập nhận xét chi tiết về đề tài, điểm mạnh, điểm yếu và các đề xuất cải thiện..."
                                          style="width: 100%; min-height: 120px; padding: 15px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 14px; resize: vertical; font-family: inherit;"></textarea>
                            </div>

                            <!-- Decision Section -->
                            <div class="decision-section">
                                <h4 style="color: #1f2937; margin-bottom: 15px;">Quyết định xét duyệt</h4>
                                <div class="decision-options" style="display: grid; gap: 15px; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
                                    
                                    <label class="decision-option" style="display: flex; align-items: center; padding: 15px; border: 2px solid #e5e7eb; border-radius: 10px; cursor: pointer; transition: all 0.3s;">
                                        <input type="radio" name="decision" value="approved" style="margin-right: 10px;">
                                        <div>
                                            <div style="font-weight: 600; color: #059669;">
                                                <i class="fas fa-check-circle"></i> Phê duyệt
                                            </div>
                                            <div style="font-size: 12px; color: #6b7280;">Đề tài đạt yêu cầu</div>
                                        </div>
                                    </label>

                                    <label class="decision-option" style="display: flex; align-items: center; padding: 15px; border: 2px solid #e5e7eb; border-radius: 10px; cursor: pointer; transition: all 0.3s;">
                                        <input type="radio" name="decision" value="revision" style="margin-right: 10px;">
                                        <div>
                                            <div style="font-weight: 600; color: #d97706;">
                                                <i class="fas fa-edit"></i> Yêu cầu chỉnh sửa
                                            </div>
                                            <div style="font-size: 12px; color: #6b7280;">Cần sửa đổi một số nội dung</div>
                                        </div>
                                    </label>

                                    <label class="decision-option" style="display: flex; align-items: center; padding: 15px; border: 2px solid #e5e7eb; border-radius: 10px; cursor: pointer; transition: all 0.3s;">
                                        <input type="radio" name="decision" value="rejected" style="margin-right: 10px;">
                                        <div>
                                            <div style="font-weight: 600; color: #dc2626;">
                                                <i class="fas fa-times-circle"></i> Từ chối
                                            </div>
                                            <div style="font-size: 12px; color: #6b7280;">Đề tài không đạt yêu cầu</div>
                                        </div>
                                    </label>
                                </div>
                            </div>

                            <!-- Action Buttons -->
                            <div class="form-actions" style="display: flex; gap: 15px; justify-content: flex-end; padding-top: 20px; border-top: 1px solid #e5e7eb;">
                                <button type="button" class="enhanced-btn btn-secondary" onclick="cancelReview()">
                                    <i class="fas fa-times"></i> Hủy bỏ
                                </button>
                                <button type="button" class="enhanced-btn btn-warning" onclick="saveAsDraft()">
                                    <i class="fas fa-save"></i> Lưu nháp
                                </button>
                                <button type="button" class="enhanced-btn btn-primary" onclick="submitReview()">
                                    <i class="fas fa-paper-plane"></i> Gửi đánh giá
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Approved Projects Section -->
            <section id="dapheduyet" class="content-section" style="display: none;">
                <div style="background: white; border-radius: 15px; padding: 30px; box-shadow: 0 4px 15px rgba(0,0,0,0.08);">
                    <h2 style="margin-bottom: 25px; color: #1f2937;">Đề tài đã phê duyệt</h2>
                    
                    <div class="approved-projects-list" style="display: grid; gap: 20px;">
                        <div class="approved-project-card" style="border: 1px solid #d1fae5; background: linear-gradient(145deg, #ffffff 0%, #f0fdf4 100%); border-radius: 12px; padding: 25px;">
                            <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 20px;">
                                <div style="flex: 1;">
                                    <h4 style="margin: 0 0 8px; color: #1f2937; font-size: 18px;">Phát triển hệ thống IoT thông minh</h4>
                                    <div style="display: flex; gap: 20px; color: #6b7280; font-size: 14px; margin-bottom: 15px;">
                                        <span><i class="fas fa-hashtag"></i> DT2025003</span>
                                        <span><i class="fas fa-user"></i> TS. Trần Thị C</span>
                                        <span><i class="fas fa-calendar"></i> Phê duyệt: 08/11/2025</span>
                                    </div>
                                </div>
                                <div class="approval-score" style="text-align: center; background: #10b981; color: white; padding: 10px; border-radius: 8px; min-width: 60px;">
                                    <div style="font-size: 18px; font-weight: 700;">42</div>
                                    <div style="font-size: 12px;">/ 50</div>
                                </div>
                            </div>
                            
                            <div class="project-details" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                                <div>
                                    <strong style="color: #374151;">Kinh phí được duyệt:</strong>
                                    <div style="color: #10b981; font-weight: 600; font-size: 16px;">500.000.000 VNĐ</div>
                                </div>
                                <div>
                                    <strong style="color: #374151;">Thời gian thực hiện:</strong>
                                    <div style="color: #6b7280;">24 tháng (01/2025 - 12/2026)</div>
                                </div>
                            </div>

                            <div class="approval-actions" style="display: flex; gap: 10px;">
                                <button class="enhanced-btn btn-primary btn-sm" onclick="viewProjectDetails('DT2025003')">
                                    <i class="fas fa-eye"></i> Xem chi tiết
                                </button>
                                <button class="enhanced-btn btn-secondary btn-sm" onclick="downloadApprovalLetter('DT2025003')">
                                    <i class="fas fa-download"></i> Tải quyết định
                                </button>
                                <button class="enhanced-btn btn-secondary btn-sm" onclick="trackProgress('DT2025003')">
                                    <i class="fas fa-chart-line"></i> Theo dõi tiến độ
                                </button>
                            </div>
                        </div>

                        <!-- More approved projects would be listed here -->
                    </div>
                </div>
            </section>

            <!-- History Section -->
            <section id="lichsu" class="content-section" style="display: none;">
                <div style="background: white; border-radius: 15px; padding: 30px; box-shadow: 0 4px 15px rgba(0,0,0,0.08);">
                    <h2 style="margin-bottom: 25px; color: #1f2937;">Lịch sử đánh giá</h2>
                    
                    <div class="history-filters" style="margin-bottom: 25px; display: flex; gap: 15px;">
                        <select style="padding: 8px 15px; border: 1px solid #d1d5db; border-radius: 8px;">
                            <option>Tất cả thời gian</option>
                            <option>Tháng này</option>
                            <option>3 tháng gần đây</option>
                            <option>6 tháng gần đây</option>
                        </select>
                        <select style="padding: 8px 15px; border: 1px solid #d1d5db; border-radius: 8px;">
                            <option>Tất cả quyết định</option>
                            <option>Đã phê duyệt</option>
                            <option>Yêu cầu chỉnh sửa</option>
                            <option>Từ chối</option>
                        </select>
                    </div>

                    <div class="history-list" style="display: grid; gap: 15px;">
                        <div class="history-item" style="display: flex; justify-content: space-between; align-items: center; padding: 20px; background: #f9fafb; border-radius: 10px; border-left: 4px solid #10b981;">
                            <div style="flex: 1;">
                                <h4 style="margin: 0 0 8px; color: #1f2937;">Phát triển hệ thống IoT thông minh</h4>
                                <div style="display: flex; gap: 20px; color: #6b7280; font-size: 14px;">
                                    <span><i class="fas fa-hashtag"></i> DT2025003</span>
                                    <span><i class="fas fa-user"></i> TS. Trần Thị C</span>
                                    <span><i class="fas fa-calendar"></i> 08/11/2025</span>
                                    <span><i class="fas fa-star"></i> 42/50 điểm</span>
                                </div>
                            </div>
                            <div style="display: flex; gap: 10px; align-items: center;">
                                <span class="status-badge status-approved">
                                    <i class="fas fa-check"></i> Đã phê duyệt
                                </span>
                                <button class="enhanced-btn btn-secondary btn-sm" onclick="viewReviewDetails('DT2025003')">
                                    <i class="fas fa-eye"></i> Chi tiết
                                </button>
                            </div>
                        </div>

                        <div class="history-item" style="display: flex; justify-content: space-between; align-items: center; padding: 20px; background: #f9fafb; border-radius: 10px; border-left: 4px solid #f59e0b;">
                            <div style="flex: 1;">
                                <h4 style="margin: 0 0 8px; color: #1f2937;">Nghiên cứu blockchain trong giáo dục</h4>
                                <div style="display: flex; gap: 20px; color: #6b7280; font-size: 14px;">
                                    <span><i class="fas fa-hashtag"></i> DT2025004</span>
                                    <span><i class="fas fa-user"></i> ThS. Phạm Văn D</span>
                                    <span><i class="fas fa-calendar"></i> 05/11/2025</span>
                                    <span><i class="fas fa-star"></i> 35/50 điểm</span>
                                </div>
                            </div>
                            <div style="display: flex; gap: 10px; align-items: center;">
                                <span class="status-badge status-revision">
                                    <i class="fas fa-edit"></i> Yêu cầu sửa
                                </span>
                                <button class="enhanced-btn btn-secondary btn-sm" onclick="viewReviewDetails('DT2025004')">
                                    <i class="fas fa-eye"></i> Chi tiết
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            </div>
        </main>
    </div>

    <!-- Modal xét duyệt đề tài -->
    <div id="xetDuyetModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Xét duyệt đề tài nghiên cứu</h3>
                <span class="close" onclick="hideModal('xetDuyetModal')">&times;</span>
            </div>
            <div id="xetDuyetContent">
                <!-- Content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Modal xem chi tiết đánh giá -->
    <div id="chiTietModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Chi tiết đánh giá</h3>
                <span class="close" onclick="hideModal('chiTietModal')">&times;</span>
            </div>
            <div id="chiTietContent">
                <!-- Content will be loaded here -->
            </div>
        </div>
    </div>

    <script>
        // JavaScript functions for Council dashboard
        function showSection(sectionId) {
            // Hide all sections
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => section.style.display = 'none');
            
            // Show selected section
            const selectedSection = document.getElementById(sectionId);
            if (selectedSection) {
                selectedSection.style.display = 'block';
            }

            // Update active sidebar item
            const sidebarItems = document.querySelectorAll('.sidebar-item');
            sidebarItems.forEach(item => item.classList.remove('active'));
            
            const activeItem = document.querySelector(`[onclick="showSection('${sectionId}')"]`);
            if (activeItem) {
                activeItem.classList.add('active');
            }
        }

        function reviewProject(projectId) {
            // Show review section and scroll to form
            showSection('xetduyet');
            setTimeout(() => {
                selectProjectForReview(projectId);
            }, 100);
        }

        function selectProjectForReview(projectId) {
            // Highlight selected project card
            const projectCards = document.querySelectorAll('.project-card');
            projectCards.forEach(card => {
                card.style.borderColor = '#e5e7eb';
                card.style.transform = 'none';
            });

            const selectedCard = document.querySelector(`[onclick="selectProjectForReview('${projectId}')"]`);
            if (selectedCard) {
                selectedCard.style.borderColor = '#3b82f6';
                selectedCard.style.transform = 'translateY(-2px)';
                selectedCard.style.boxShadow = '0 8px 25px rgba(59, 130, 246, 0.15)';
            }

            // Show review form
            const reviewForm = document.getElementById('reviewForm');
            if (reviewForm) {
                reviewForm.style.display = 'block';
                reviewForm.scrollIntoView({ behavior: 'smooth' });
            }

            // Populate project info
            const projectInfo = {
                'DT2025001': {
                    title: 'Ứng dụng AI trong chẩn đoán y tế',
                    code: 'DT2025001',
                    author: 'TS. Nguyễn Văn A',
                    department: 'Khoa Công nghệ thông tin',
                    submitted: '03/11/2025',
                    deadline: '10/11/2025'
                },
                'DT2025002': {
                    title: 'Nghiên cứu năng lượng tái tạo',
                    code: 'DT2025002',
                    author: 'PGS. Lê Văn B',
                    department: 'Khoa Kỹ thuật',
                    submitted: '04/11/2025',
                    deadline: '11/11/2025'
                }
            };

            const project = projectInfo[projectId];
            if (project) {
                document.getElementById('selectedProjectInfo').innerHTML = `
                    <div><strong>Tên đề tài:</strong> ${project.title}</div>
                    <div><strong>Mã số:</strong> ${project.code}</div>
                    <div><strong>Người đề xuất:</strong> ${project.author}</div>
                    <div><strong>Đơn vị:</strong> ${project.department}</div>
                    <div><strong>Ngày gửi:</strong> ${project.submitted}</div>
                    <div><strong>Thời hạn xét duyệt:</strong> ${project.deadline}</div>
                `;
            }
        }

        function updateScore(slider, scoreDisplayId) {
            const scoreDisplay = document.getElementById(scoreDisplayId);
            if (scoreDisplay) {
                scoreDisplay.textContent = slider.value;
            }
            
            // Update total score
            calculateTotalScore();
        }

        function calculateTotalScore() {
            const creativity = parseInt(document.getElementById('creativity').value) || 0;
            const feasibility = parseInt(document.getElementById('feasibility').value) || 0;
            const significance = parseInt(document.getElementById('significance').value) || 0;
            const capability = parseInt(document.getElementById('capability').value) || 0;
            const budget = parseInt(document.getElementById('budget').value) || 0;
            
            const total = creativity + feasibility + significance + capability + budget;
            const totalDisplay = document.getElementById('totalScore');
            if (totalDisplay) {
                totalDisplay.textContent = total;
                
                // Update color based on score
                const scoreContainer = totalDisplay.parentElement;
                if (total >= 40) {
                    scoreContainer.style.background = 'linear-gradient(135deg, #10b981 0%, #059669 100%)';
                } else if (total >= 30) {
                    scoreContainer.style.background = 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)';
                } else {
                    scoreContainer.style.background = 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)';
                }
            }
        }

        function cancelReview() {
            const reviewForm = document.getElementById('reviewForm');
            if (reviewForm) {
                reviewForm.style.display = 'none';
            }

            // Reset project card selection
            const projectCards = document.querySelectorAll('.project-card');
            projectCards.forEach(card => {
                card.style.borderColor = '#e5e7eb';
                card.style.transform = 'none';
                card.style.boxShadow = '';
            });
        }

        function saveAsDraft() {
            // Save current review as draft
            alert('Đánh giá đã được lưu nháp!');
        }

        function submitReview() {
            const decision = document.querySelector('input[name="decision"]:checked');
            if (!decision) {
                alert('Vui lòng chọn quyết định xét duyệt!');
                return;
            }

            const comments = document.getElementById('reviewComments').value;
            if (!comments.trim()) {
                alert('Vui lòng nhập nhận xét về đề tài!');
                return;
            }

            // Submit review
            alert('Đánh giá đã được gửi thành công!');
            cancelReview();
        }

        function viewProject(projectId) {
            alert(`Xem chi tiết đề tài ${projectId}`);
        }

        function viewProjectDetails(projectId) {
            alert(`Xem chi tiết đề tài đã phê duyệt ${projectId}`);
        }

        function downloadApprovalLetter(projectId) {
            alert(`Tải quyết định phê duyệt cho đề tài ${projectId}`);
        }

        function trackProgress(projectId) {
            alert(`Theo dõi tiến độ thực hiện đề tài ${projectId}`);
        }

        function viewReviewDetails(projectId) {
            alert(`Xem chi tiết đánh giá cho đề tài ${projectId}`);
        }

        function exportReport(type) {
            alert(`Xuất báo cáo ${type}`);
        }

        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            // Show dashboard by default
            showSection('dashboard');
            
            // Initialize total score calculation
            calculateTotalScore();

            // Add hover effects for decision options
            const decisionOptions = document.querySelectorAll('.decision-option');
            decisionOptions.forEach(option => {
                option.addEventListener('mouseenter', function() {
                    this.style.borderColor = '#3b82f6';
                    this.style.backgroundColor = '#f8fafc';
                });
                
                option.addEventListener('mouseleave', function() {
                    if (!this.querySelector('input').checked) {
                        this.style.borderColor = '#e5e7eb';
                        this.style.backgroundColor = 'white';
                    }
                });
                
                option.querySelector('input').addEventListener('change', function() {
                    decisionOptions.forEach(opt => {
                        opt.style.borderColor = '#e5e7eb';
                        opt.style.backgroundColor = 'white';
                    });
                    
                    if (this.checked) {
                        this.parentElement.style.borderColor = '#3b82f6';
                        this.parentElement.style.backgroundColor = '#f8fafc';
                    }
                });
            });

            // Add hover effects for export buttons
            const exportButtons = document.querySelectorAll('.export-btn');
            exportButtons.forEach(btn => {
                btn.addEventListener('mouseenter', function() {
                    this.style.borderColor = '#3b82f6';
                    this.style.backgroundColor = '#f8fafc';
                });
                
                btn.addEventListener('mouseleave', function() {
                    this.style.borderColor = '#e5e7eb';
                    this.style.backgroundColor = 'white';
                });
            });
        });
    </script>
</body>
</html>
